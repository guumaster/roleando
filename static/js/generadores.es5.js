(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";!function(){var e=void 0,t=function(e){var t=n(e);return t&&t.params?t.params.id:""},n=function(e){var t=document.createElement("a");return t.href=e,{source:e,protocol:t.protocol.replace(":",""),host:t.hostname,port:t.port,query:t.search,params:function(){for(var e,n={},a=t.search.replace(/^\?/,"").split("&"),o=a.length,r=0;o>r;r++)a[r]&&(e=a[r].split("="),n[e[0]]=e[1]);return n}(),file:(t.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:t.hash.replace("#",""),path:t.pathname.replace(/^([^\/])/,"/$1"),relative:(t.href.match(/tp:\/\/[^\/]+(.+)/)||[,""])[1],segments:t.pathname.replace(/^\//,"").split("/")}},a=function(e){return $.simplyToast(e,"danger")},o=function(e){return $.simplyToast(e,"success")},r=n(window.location.url),c=!1,i=$("#tpls"),s=$("#sources"),l=$("#btn-regen"),u=$("#runner-output"),d=$("#generator-examples"),p=$("#generator"),f=$("#generator-name"),m=$("#generator-desc"),h=void 0,v=new Generador({host:"//"+r.host+(r.port?":"+r.port:"")}),g=function(e){return e.match(/;@tpl\|/m)?e:";@tpl|main\n"+e},b=function(){var e=g(i.val());h=v.parseString(""+e+s.val()).then(function(){c=!0,w()})},w=function(){c&&u.empty().append(v.toHtml(v.generate()))},k=function(e){window.location.href="/generadores/?id="+e},y=function(e){var t=f.val().trim(),n=m.val().trim();return t&&n?void v.remotes.update(e,{name:t,desc:n,data:{tpls:g(i.val()),tables:s.val()}}).then(function(e){o("Guardado con exito")})["catch"](function(e){a(e.message)}):void a("Falta nombre o descripcion")},C=function(e){var t=f.val().trim(),n=m.val().trim();return t&&n?void v.remotes.create({name:t,desc:n,parent:e,data:{tpls:g(i.val()),tables:s.val()}}).then(function(e){o("Guardado con exito"),console.log("RES",e),setTimeout(function(){k(e.tableId)},400)})["catch"](function(e){a(e.message)}):void a("Falta nombre o descripcion")},T=function(){$("#save").removeClass("disabled").off("click").on("click",function(){return y(e)}),$("#fork").removeClass("disabled").off("click").on("click",function(){return C(e)})},x=function(e){p.removeClass("hide"),i.on("change",b),s.on("change",b),l.on("click",w),v.remotes.load(e).then(function(t){return t?(f.val(t.name),m.val(t.desc),i.val(g(t.data.tpls)),s.val(t.data.tables),b(),void w()):void a("No hay datos para el identificador "+e)})["catch"](function(t){a("No hay datos para el identificador "+e)})};$(function(){if(e=t(window.location.href),!e)return void d.removeClass("hide");x(e);var n=new Clipboard("#btn-copy");n.on("success",function(e){o("Copiado al portapapeles"),e.clearSelection()}),v.getTokenFromAuth().then(function(e){T()})["catch"](function(e){})})}();

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6L1VzZXJzL2d1dS9BcHBEYXRhL1JvYW1pbmcvbnBtL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJEOlxcd29ya3NwYWNlXFxjb21wYXJ0aWRvXFxIRVJPS1VcXHJvbGVhbmRvXFxzdGF0aWNcXGpzXFxnZW5lcmFkb3Jlcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBLGNBQ0UsV0FFQSxHQUFJLEdBQUEsT0FDRSxFQUFtQixTQUFBLEdBQ3ZCLEdBQU0sR0FBTSxFQUFTLEVBQ3JCLE9BQVEsSUFBTyxFQUFJLE9BQVUsRUFBSSxPQUFPLEdBQUssSUFHekMsRUFBVyxTQUFBLEdBQ2YsR0FBSSxHQUFJLFNBQVMsY0FBYyxJQUUvQixPQURBLEdBQUUsS0FBTyxHQUVQLE9BQVEsRUFDUixTQUFVLEVBQUUsU0FBUyxRQUFRLElBQUssSUFDbEMsS0FBTSxFQUFFLFNBQ1IsS0FBTSxFQUFFLEtBQ1IsTUFBTyxFQUFFLE9BQ1QsT0FBUyxXQUlQLElBSEEsR0FFMkIsR0FGdkIsS0FDRixFQUFNLEVBQUUsT0FBTyxRQUFRLE1BQU0sSUFBSSxNQUFNLEtBQ3ZDLEVBQU0sRUFBSSxPQUFRLEVBQUksRUFDaEIsRUFBRixFQUFNLElBQ0wsRUFBSSxLQUNULEVBQUksRUFBSSxHQUFHLE1BQU0sS0FDakIsRUFBSSxFQUFFLElBQU0sRUFBRSxHQUVoQixPQUFPLE1BRVQsTUFBTyxFQUFFLFNBQVMsTUFBTSxvQkFBcUIsQ0FBRyxLQUFLLEdBQ3JELEtBQU0sRUFBRSxLQUFLLFFBQVEsSUFBSyxJQUMxQixLQUFNLEVBQUUsU0FBUyxRQUFRLFdBQVksT0FDckMsVUFBVyxFQUFFLEtBQUssTUFBTSx1QkFBd0IsQ0FBRyxLQUFLLEdBQ3hELFNBQVUsRUFBRSxTQUFTLFFBQVEsTUFBTyxJQUFJLE1BQU0sT0FJNUMsRUFBWSxTQUFBLEdBQUEsTUFBTyxHQUFFLFlBQVksRUFBSyxXQUN0QyxFQUFVLFNBQUEsR0FBQSxNQUFPLEdBQUUsWUFBWSxFQUFLLFlBRXBDLEVBQU8sRUFBUyxPQUFPLFNBQVMsS0FFbEMsR0FBVSxFQUNSLEVBQVEsRUFBRSxTQUNWLEVBQVcsRUFBRSxZQUNiLEVBQVksRUFBRSxjQUNkLEVBQVUsRUFBRSxrQkFDWixFQUFZLEVBQUUsdUJBQ2QsRUFBYSxFQUFFLGNBQ2YsRUFBYSxFQUFFLG1CQUNmLEVBQWEsRUFBRSxtQkFFakIsRUFBQSxPQUVFLEVBQU0sR0FBSSxZQUNkLEtBQUEsS0FBVyxFQUFLLE1BQU8sRUFBSyxLQUFPLElBQUssRUFBSyxLQUFPLE1BR2hELEVBQVUsU0FBQSxHQUNkLE1BQUssR0FBSSxNQUFNLFlBR1IsRUFGTCxlQUFzQixHQUtwQixFQUFtQixXQUN2QixHQUFNLEdBQU8sRUFBUSxFQUFNLE1BQzNCLEdBQVksRUFBSSxZQUFKLEdBQW1CLEVBQU8sRUFBUyxPQUFTLEtBQUssV0FDM0QsR0FBVSxFQUNWLE9BR0UsRUFBZSxXQUNkLEdBRUwsRUFBUSxRQUFRLE9BQU8sRUFBSSxPQUFPLEVBQUksY0FHbEMsRUFBc0IsU0FBQSxHQUMxQixPQUFPLFNBQVMsS0FBaEIsb0JBQTJDLEdBR3ZDLEVBQWMsU0FBQSxHQUNsQixHQUFNLEdBQU8sRUFBVyxNQUFNLE9BQ3hCLEVBQU8sRUFBVyxNQUFNLE1BQzlCLE9BQUssSUFBUyxNQUlkLEdBQUksUUFBUSxPQUFPLEdBQ2pCLEtBQUEsRUFBTSxLQUFBLEVBQ04sTUFDRSxLQUFNLEVBQVEsRUFBTSxPQUNwQixPQUFRLEVBQVMsU0FFbEIsS0FBSyxTQUFBLEdBQ04sRUFBUSx3QkFQVixTQVNTLFNBQUEsR0FDTCxFQUFVLEVBQUksZUFiaEIsR0FBVSwrQkFpQlIsRUFBYyxTQUFBLEdBQ2xCLEdBQU0sR0FBTyxFQUFXLE1BQU0sT0FDeEIsRUFBTyxFQUFXLE1BQU0sTUFDOUIsT0FBSyxJQUFTLE1BS2QsR0FBSSxRQUFRLFFBQ1YsS0FBQSxFQUFNLEtBQUEsRUFDTixPQUFRLEVBQ1IsTUFDRSxLQUFNLEVBQVEsRUFBTSxPQUNwQixPQUFRLEVBQVMsU0FFbEIsS0FBSyxTQUFBLEdBQ04sRUFBUSxzQkFDUixRQUFRLElBQUksTUFBTyxHQUNuQixXQUFXLFdBQ1QsRUFBb0IsRUFBSSxVQUN2QixPQVpMLFNBY1MsU0FBQSxHQUNMLEVBQVUsRUFBSSxlQW5CaEIsR0FBVSwrQkF1QlIsRUFBaUIsV0FDckIsRUFBRSxTQUFTLFlBQVksWUFBWSxJQUFJLFNBQVMsR0FBRyxRQUFTLFdBQUEsTUFBTSxHQUFZLEtBQzlFLEVBQUUsU0FBUyxZQUFZLFlBQVksSUFBSSxTQUFTLEdBQUcsUUFBUyxXQUFBLE1BQU0sR0FBWSxNQUcxRSxFQUFnQixTQUFBLEdBRXBCLEVBQVcsWUFBWSxRQUV2QixFQUFNLEdBQUcsU0FBVSxHQUNuQixFQUFTLEdBQUcsU0FBVSxHQUN0QixFQUFVLEdBQUcsUUFBUyxHQUV0QixFQUFJLFFBQVEsS0FBSyxHQUFVLEtBQUssU0FBQSxHQUU5QixNQUFLLElBSUwsRUFBVyxJQUFJLEVBQUksTUFDbkIsRUFBVyxJQUFJLEVBQUksTUFDbkIsRUFBTSxJQUFJLEVBQVEsRUFBSSxLQUFLLE9BQzNCLEVBQVMsSUFBSSxFQUFJLEtBQUssUUFDdEIsUUFDQSxVQVJFLEdBQUEsc0NBQWdELEtBSHBELFNBYVMsU0FBQSxHQUNMLEVBQUEsc0NBQWdELEtBS3RELEdBQUUsV0FLQSxHQUZBLEVBQVksRUFBaUIsT0FBTyxTQUFTLE9BRXhDLEVBRUgsV0FEQSxHQUFVLFlBQVksT0FJeEIsR0FBYyxFQUVkLElBQU0sR0FBWSxHQUFJLFdBQVUsWUFDaEMsR0FBVSxHQUFHLFVBQVcsU0FBQSxHQUN0QixFQUFRLDJCQUNSLEVBQUUsbUJBSUosRUFBSSxtQkFDRCxLQUFLLFNBQUEsR0FDSixNQUZKLFNBSVMsU0FBQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIndXNlIHN0cmljdCdcclxuOyhmdW5jdGlvbiAoKSB7XHJcblxyXG4gIGxldCBTT1VSQ0VfSURcclxuICBjb25zdCBnZXRSZW1vdGVGcm9tVXJsID0gcmF3VXJsID0+IHtcclxuICAgIGNvbnN0IHVybCA9IHBhcnNlVVJMKHJhd1VybClcclxuICAgIHJldHVybiAodXJsICYmIHVybC5wYXJhbXMpID8gdXJsLnBhcmFtcy5pZCA6ICcnXHJcbiAgfVxyXG5cclxuICBjb25zdCBwYXJzZVVSTCA9IHVybCA9PiB7XHJcbiAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKVxyXG4gICAgYS5ocmVmID0gdXJsXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzb3VyY2U6IHVybCxcclxuICAgICAgcHJvdG9jb2w6IGEucHJvdG9jb2wucmVwbGFjZSgnOicsICcnKSxcclxuICAgICAgaG9zdDogYS5ob3N0bmFtZSxcclxuICAgICAgcG9ydDogYS5wb3J0LFxyXG4gICAgICBxdWVyeTogYS5zZWFyY2gsXHJcbiAgICAgIHBhcmFtczogKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmV0ID0ge30sXHJcbiAgICAgICAgICBzZWcgPSBhLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywnJykuc3BsaXQoJyYnKSxcclxuICAgICAgICAgIGxlbiA9IHNlZy5sZW5ndGgsIGkgPSAwLCBzO1xyXG4gICAgICAgIGZvciAoO2k8bGVuO2krKykge1xyXG4gICAgICAgICAgaWYgKCFzZWdbaV0pIHsgY29udGludWU7IH1cclxuICAgICAgICAgIHMgPSBzZWdbaV0uc3BsaXQoJz0nKTtcclxuICAgICAgICAgIHJldFtzWzBdXSA9IHNbMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXRcclxuICAgICAgfSkoKSxcclxuICAgICAgZmlsZTogKGEucGF0aG5hbWUubWF0Y2goL1xcLyhbXlxcLz8jXSspJC9pKSB8fCBbLCAnJ10pWzFdLFxyXG4gICAgICBoYXNoOiBhLmhhc2gucmVwbGFjZSgnIycsICcnKSxcclxuICAgICAgcGF0aDogYS5wYXRobmFtZS5yZXBsYWNlKC9eKFteXFwvXSkvLCAnLyQxJyksXHJcbiAgICAgIHJlbGF0aXZlOiAoYS5ocmVmLm1hdGNoKC90cDpcXC9cXC9bXlxcL10rKC4rKS8pIHx8IFssICcnXSlbMV0sXHJcbiAgICAgIHNlZ21lbnRzOiBhLnBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCAnJykuc3BsaXQoJy8nKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3Qgc2hvd0Vycm9yID0gZXJyID0+ICQuc2ltcGx5VG9hc3QoZXJyLCAnZGFuZ2VyJylcclxuICBjb25zdCBhbGVydE9rID0gbXNnID0+ICQuc2ltcGx5VG9hc3QobXNnLCAnc3VjY2VzcycpXHJcblxyXG4gIGNvbnN0IGJhc2UgPSBwYXJzZVVSTCh3aW5kb3cubG9jYXRpb24udXJsKVxyXG5cclxuICBsZXQgU1RBUlRFRCA9IGZhbHNlXHJcbiAgY29uc3QgJHRwbHMgPSAkKCcjdHBscycpXHJcbiAgY29uc3QgJHNvdXJjZXMgPSAkKCcjc291cmNlcycpXHJcbiAgY29uc3QgJGJ0blJlZ2VuID0gJCgnI2J0bi1yZWdlbicpXHJcbiAgY29uc3QgJG91dHB1dCA9ICQoJyNydW5uZXItb3V0cHV0JylcclxuICBjb25zdCAkZXhhbXBsZXMgPSAkKCcjZ2VuZXJhdG9yLWV4YW1wbGVzJylcclxuICBjb25zdCAkZ2VuZXJhdG9yID0gJCgnI2dlbmVyYXRvcicpXHJcbiAgY29uc3QgJHRhYmxlTmFtZSA9ICQoJyNnZW5lcmF0b3ItbmFtZScpXHJcbiAgY29uc3QgJHRhYmxlRGVzYyA9ICQoJyNnZW5lcmF0b3ItZGVzYycpXHJcblxyXG4gIGxldCBnZW5lcmFkb3JcclxuXHJcbiAgY29uc3QgZ2VuID0gbmV3IEdlbmVyYWRvcih7XHJcbiAgICBob3N0OiBgLy8ke2Jhc2UuaG9zdH0ke2Jhc2UucG9ydCA/ICc6JysgYmFzZS5wb3J0IDogJyd9YFxyXG4gIH0pXHJcblxyXG4gIGNvbnN0IGdldFRwbHMgPSBzcmMgPT4ge1xyXG4gICAgaWYgKCFzcmMubWF0Y2goLztAdHBsXFx8L20pKSB7XHJcbiAgICAgIHJldHVybiBgO0B0cGx8bWFpblxcbiR7c3JjfWBcclxuICAgIH1cclxuICAgIHJldHVybiBzcmNcclxuICB9XHJcblxyXG4gIGNvbnN0IHJlc3RhcnRHZW5lcmF0b3IgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB0cGxzID0gZ2V0VHBscygkdHBscy52YWwoKSlcclxuICAgIGdlbmVyYWRvciA9IGdlbi5wYXJzZVN0cmluZyhgJHt0cGxzfSR7JHNvdXJjZXMudmFsKCl9YCkudGhlbigoKSA9PiB7XHJcbiAgICAgIFNUQVJURUQgPSB0cnVlXHJcbiAgICAgIHJ1bkdlbmVyYXRvcigpXHJcbiAgICB9KVxyXG4gIH1cclxuICBjb25zdCBydW5HZW5lcmF0b3IgPSAoKSA9PiB7XHJcbiAgICBpZiAoIVNUQVJURUQpIHJldHVybjtcclxuXHJcbiAgICAkb3V0cHV0LmVtcHR5KCkuYXBwZW5kKGdlbi50b0h0bWwoZ2VuLmdlbmVyYXRlKCkpKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVkaXJlY3RUb0dlbmVyYXRvciA9IGlkID0+IHtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYC9nZW5lcmFkb3Jlcy8/aWQ9JHtpZH1gXHJcbiAgfVxyXG5cclxuICBjb25zdCBzYXZlQ29udGVudCA9IHNvdXJjZUlkID0+IHtcclxuICAgIGNvbnN0IG5hbWUgPSAkdGFibGVOYW1lLnZhbCgpLnRyaW0oKVxyXG4gICAgY29uc3QgZGVzYyA9ICR0YWJsZURlc2MudmFsKCkudHJpbSgpXHJcbiAgICBpZiAoIW5hbWUgfHwgIWRlc2MpIHtcclxuICAgICAgc2hvd0Vycm9yKCdGYWx0YSBub21icmUgbyBkZXNjcmlwY2lvbicpXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgZ2VuLnJlbW90ZXMudXBkYXRlKHNvdXJjZUlkLCB7XHJcbiAgICAgIG5hbWUsIGRlc2MsXHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICB0cGxzOiBnZXRUcGxzKCR0cGxzLnZhbCgpKSxcclxuICAgICAgICB0YWJsZXM6ICRzb3VyY2VzLnZhbCgpXHJcbiAgICAgIH1cclxuICAgIH0pLnRoZW4ocmVzID0+IHtcclxuICAgICAgYWxlcnRPaygnR3VhcmRhZG8gY29uIGV4aXRvJylcclxuICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIHNob3dFcnJvcihlcnIubWVzc2FnZSlcclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIGNvbnN0IGZvcmtDb250ZW50ID0gc291cmNlSWQgPT4ge1xyXG4gICAgY29uc3QgbmFtZSA9ICR0YWJsZU5hbWUudmFsKCkudHJpbSgpXHJcbiAgICBjb25zdCBkZXNjID0gJHRhYmxlRGVzYy52YWwoKS50cmltKClcclxuICAgIGlmICghbmFtZSB8fCAhZGVzYykge1xyXG4gICAgICBzaG93RXJyb3IoJ0ZhbHRhIG5vbWJyZSBvIGRlc2NyaXBjaW9uJylcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgZ2VuLnJlbW90ZXMuY3JlYXRlKHtcclxuICAgICAgbmFtZSwgZGVzYyxcclxuICAgICAgcGFyZW50OiBzb3VyY2VJZCxcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIHRwbHM6IGdldFRwbHMoJHRwbHMudmFsKCkpLFxyXG4gICAgICAgIHRhYmxlczogJHNvdXJjZXMudmFsKClcclxuICAgICAgfVxyXG4gICAgfSkudGhlbihyZXMgPT4ge1xyXG4gICAgICBhbGVydE9rKCdHdWFyZGFkbyBjb24gZXhpdG8nKVxyXG4gICAgICBjb25zb2xlLmxvZygnUkVTJywgcmVzKVxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICByZWRpcmVjdFRvR2VuZXJhdG9yKHJlcy50YWJsZUlkKVxyXG4gICAgICB9LCA0MDApXHJcbiAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICBzaG93RXJyb3IoZXJyLm1lc3NhZ2UpXHJcbiAgICAgIH0pXHJcbiAgfVxyXG5cclxuICBjb25zdCBlbmFibGVMb2dnZWRVSSA9ICgpID0+IHtcclxuICAgICQoJyNzYXZlJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJykub2ZmKCdjbGljaycpLm9uKCdjbGljaycsICgpID0+IHNhdmVDb250ZW50KFNPVVJDRV9JRCkpXHJcbiAgICAkKCcjZm9yaycpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpLm9mZignY2xpY2snKS5vbignY2xpY2snLCAoKSA9PiBmb3JrQ29udGVudChTT1VSQ0VfSUQpKVxyXG4gIH1cclxuXHJcbiAgY29uc3Qgc2hvd0dlbmVyYXRvciA9IHNvdXJjZUlkID0+IHtcclxuXHJcbiAgICAkZ2VuZXJhdG9yLnJlbW92ZUNsYXNzKCdoaWRlJylcclxuXHJcbiAgICAkdHBscy5vbignY2hhbmdlJywgcmVzdGFydEdlbmVyYXRvcilcclxuICAgICRzb3VyY2VzLm9uKCdjaGFuZ2UnLCByZXN0YXJ0R2VuZXJhdG9yKVxyXG4gICAgJGJ0blJlZ2VuLm9uKCdjbGljaycsIHJ1bkdlbmVyYXRvcilcclxuXHJcbiAgICBnZW4ucmVtb3Rlcy5sb2FkKHNvdXJjZUlkKS50aGVuKHJlcyA9PiB7XHJcblxyXG4gICAgICBpZiAoIXJlcykge1xyXG4gICAgICAgIHNob3dFcnJvcihgTm8gaGF5IGRhdG9zIHBhcmEgZWwgaWRlbnRpZmljYWRvciAke3NvdXJjZUlkfWApXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuICAgICAgJHRhYmxlTmFtZS52YWwocmVzLm5hbWUpXHJcbiAgICAgICR0YWJsZURlc2MudmFsKHJlcy5kZXNjKVxyXG4gICAgICAkdHBscy52YWwoZ2V0VHBscyhyZXMuZGF0YS50cGxzKSlcclxuICAgICAgJHNvdXJjZXMudmFsKHJlcy5kYXRhLnRhYmxlcylcclxuICAgICAgcmVzdGFydEdlbmVyYXRvcigpXHJcbiAgICAgIHJ1bkdlbmVyYXRvcigpXHJcbiAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICBzaG93RXJyb3IoYE5vIGhheSBkYXRvcyBwYXJhIGVsIGlkZW50aWZpY2Fkb3IgJHtzb3VyY2VJZH1gKVxyXG4gICAgICB9KVxyXG5cclxuICB9XHJcblxyXG4gICQoKCkgPT4ge1xyXG5cclxuXHJcbiAgICBTT1VSQ0VfSUQgPSBnZXRSZW1vdGVGcm9tVXJsKHdpbmRvdy5sb2NhdGlvbi5ocmVmKVxyXG5cclxuICAgIGlmICghU09VUkNFX0lEKSB7XHJcbiAgICAgICRleGFtcGxlcy5yZW1vdmVDbGFzcygnaGlkZScpXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIHNob3dHZW5lcmF0b3IoU09VUkNFX0lEKVxyXG5cclxuICAgIGNvbnN0IGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQoJyNidG4tY29weScpO1xyXG4gICAgY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZSA9PiB7XHJcbiAgICAgIGFsZXJ0T2soJ0NvcGlhZG8gYWwgcG9ydGFwYXBlbGVzJylcclxuICAgICAgZS5jbGVhclNlbGVjdGlvbigpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIGdlbi5nZXRUb2tlbkZyb21BdXRoKClcclxuICAgICAgLnRoZW4odG9rZW4gPT4ge1xyXG4gICAgICAgIGVuYWJsZUxvZ2dlZFVJKClcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVyciA9PiB7fSlcclxuICB9KVxyXG5cclxufSgpKVxyXG4iXX0=
