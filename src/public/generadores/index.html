<!doctype html>
<html>
 <head>
    <title>Motor de Generadores</title>
 <meta http-equiv="content-type" content="text/html; charset=UTF-8">

      <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
      <link rel="stylesheet" type="text/css" href="https://necolas.github.io/normalize.css/4.1.1/normalize.css">
      <script type="text/javascript" src="//code.jquery.com/jquery-2.2.3.js"></script>
      <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <style type="text/css">
    .big-text {
  font-size: 1.5em;
}
.hide {
    display: none !important;
}
    </style>
  </head>
  <body>

<br/>
<div class="container-fluid">
   <ul class="nav nav-tabs" role="tablist">
      <li role="presentation" class="active"><a href="#runner" role="tab" data-toggle="tab">Resultado</a></li>
      <li role="presentation"><a href="#generator" role="tab" data-toggle="tab">Plantilla</a></li>
      <li role="presentation"><a href="#tables" role="tab" data-toggle="tab">Tablas</a></li>
      <li role="presentation"><a href="#ayuda" role="tab" data-toggle="tab">Ayuda</a></li>
    </ul>
    <div class="row">
    &nbsp;
    </div>
  <div class="panel panel-default">
    <div class="panel-body">

      <div class="tab-content">
        <div role="tabpanel" class="tab-pane " id="tables">
          <div class="form-group">
            <label for="remotes">Tablas locales</label>
            <p class="help-block">En este cuadro de texto se pueden agregar tablas para usar en el generador </p>
            <textarea id="src" class="form-control" rows="10">
;explorando
unas ruinas remotas
una necropolis demasiado grande
las ruinas de una ciudad antigua
un asentamiento inundado
una aldea abandonada
un cañn sinuoso
un valle perdido
un camino olvidado
el sitio de una batalla legendaria
una caverna misteriosa

;ubicacion
una isla inexplorada
los limites de un gran pantano
lo alto de las montañas
un yermo desolado
la congelante tundra
los paramos azotados por el viento
la jungla tropical
mitad de territorio enemigo

;buscando
el templo de una deidad muerta.
la cripta de un hroe olvidado.
la cmara del ultimo rey enano.
la prisin de un demonio atrapado.
la guarida de una bestia legendaria.
el escondite de un famoso ladrn.
un monasterio de una orden mstica.
la fortaleza de un tirano señor de la guerra.
la torre de un mago loco.

;tarea
encontrar un artefacto antiguo
encontrar una cura
rescatar alguien en peligro
usar un sitio sagrado
llevar un villano ante la justicia
encontrar al elegido
recuperar nuestras almas
detener la liberacin de un mal ancestral
buscar un conocimiento prohibido
cerrar un portal impo

;proteccion1
horrores no-muertos
cultistas locos
abominaciones retorcidas
asesinos despiadados
hordas de monstruos
un demonio ftido
trampas mortales
poderosos constructos
bestias salvajes
guerreros expertos

;proteccion2
un lord no-muerto.
un horror aliengena.
un ngel cado.
un antiguo dragn.
un poderoso hechicero.
un guerrero desptico.
un sacerdote fantico.
una mente criminal.
aquel que nos ha traicionado.

            </textarea>
          </div>
          <div  class="">

            <div class="form-group clearfix">
              <button id="save" class=" pull-rightbtn btn-primary">save</button>
            </div>
            <div class="form-group">
              <label for="remotes">Tablas remotas</label>
              <p class="help-block">Cada linea es el nombre de una tabla remota que ser cargada</p>
              <textarea id="remotes" class="form-control" rows="2">
prueba,27q9w
otra,1sxv8
4dbhg
sub,2w5wk
              </textarea>
              <!--
-->
            </div>
            <div class="form-group clearfix">
              <button id="load" class="pull-right btn btn-primary">Cargar tablas</button>
            </div>

          </div>
        </div>
        <div role="tabpanel" class="tab-pane" id="generator">
          <textarea id="in" class="form-control" rows="10">

;@tpl|semilla
#### Semilla de aventura
---
>  Estamos explorando __[explorando]__ que se encuentra en __[ubicacion]__ buscando __[buscando]__
>
>
>  Estamos aqu para __[tarea]__ protegido por __[proteccion1]__ y __[proteccion2]__
          </textarea>
          <div class="list-group" id="keys"></div>
        </div>
        <div role="tabpanel" class="tab-pane active" id="runner">

          <div class="form-group">
            <div class="pull-right">
              <button id="roll" class="btn btn-primary">Generar</button>
              <!--   <button id="cls" class="btn btn-primary">Borrar</button> -->
            </div>
           <div class="clearfix"></div>
          </div>
          <div class="well well-lg big-text " id="output"></div>


        </div>

        <div role="tabpanel" class="tab-pane" id="ayuda">
          Nota: Escribir la ayuda.
        </div>

      </div>
    </div>
  </div>

</div>
    <script src="js/bundle.js"></script>
    <script>
	$(() => {

    const generador = gen.init($('#in').val() + $('#src').val())

 const regen = () => $('#output').empty().append(gen.toHtml(generador.generators.semilla()))

 $('#roll').on('click', regen)
 regen()

 })
    </script>
  </body>
</html>
